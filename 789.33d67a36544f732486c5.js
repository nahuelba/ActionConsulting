(self.webpackChunkactionhconsulting=self.webpackChunkactionhconsulting||[]).push([[789],{3789:(e,i,o)=>{"use strict";o.r(i),o.d(i,{MiPerfilModule:()=>qe});var t=o(8583),r=o(8094),a=o(3679),n=o(5917),s=o(4612),l=o(7716),c=o(6334),u=o(7660),d=o(9699),p=o(9075),m=o(352);let h=(()=>{class e{constructor(e,i,o,t,r){this.AuthService=e,this.spinner=i,this.toastr=o,this.titleService=t,this.MiPerfilService=r,this.id_datos_contacto="",this.datosContactoForm=new a.cw({email:new a.NI(""),emailalternativo:new a.NI(""),telefono1:new a.NI(""),telefono2:new a.NI("")})}ngOnInit(){this.titleService.setTitle("Datos de Contacto | ACTION HUMAN CAPITAL CONSULTING"),this.AuthService.getUserLogged().pipe((0,s.b)(e=>e?(this.user=e,this.datosContactoForm.controls.email.setValue(e.email),this.MiPerfilService.leerDatosContacto(this.user.uid)):(0,n.of)(!1))).subscribe(e=>{e.length>0&&(this.datosContactoForm.controls.emailalternativo.setValue(e[0].emailalternativo),this.datosContactoForm.controls.telefono1.setValue(e[0].telefono1),this.datosContactoForm.controls.telefono2.setValue(e[0].telefono2),this.id_datos_contacto=e[0].id)})}GuardarPerfil(){this.spinner.show(),console.log(this.id_datos_contacto),console.log(this.datosContactoForm.value),this.id_datos_contacto?this.MiPerfilService.updateDatosContacto(this.user.uid,this.id_datos_contacto,this.datosContactoForm.value).then(e=>{this.toastr.success("Perfil actualizado con exito!"),this.spinner.hide()},e=>{this.toastr.error("No se pudo actualizar el perfil, intente mas tarde."),this.spinner.hide()}):this.MiPerfilService.agregarDatosContacto(this.user.uid,this.datosContactoForm.value).then(e=>{this.toastr.success("Perfil actualizado con exito!"),this.spinner.hide()},e=>{this.toastr.error("No se pudo actualizar el perfil, intente mas tarde."),this.spinner.hide()})}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(c.e),l.Y36(u.t2),l.Y36(d._W),l.Y36(p.Dx),l.Y36(m.P))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-datos-contacto"]],decls:22,vars:1,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"my-3",3,"formGroup"],[1,"form-group"],["for","Puesto"],["type","email","formControlName","email","readonly","",1,"form-control"],["type","email","formControlName","emailalternativo",1,"form-control"],["type","number","formControlName","telefono1",1,"form-control"],["type","number","formControlName","telefono2",1,"form-control"],[1,"btn","btn-success","rounded-pill","mt-4",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2," Datos de Contacto "),l.qZA(),l.qZA(),l.TgZ(3,"form",2),l.TgZ(4,"div",3),l.TgZ(5,"label",4),l._uU(6,"Email"),l.qZA(),l._UZ(7,"input",5),l.qZA(),l.TgZ(8,"div",3),l.TgZ(9,"label",4),l._uU(10,"Email Alternativo"),l.qZA(),l._UZ(11,"input",6),l.qZA(),l.TgZ(12,"div",3),l.TgZ(13,"label",4),l._uU(14,"Telefono 1"),l.qZA(),l._UZ(15,"input",7),l.qZA(),l.TgZ(16,"div",3),l.TgZ(17,"label",4),l._uU(18,"Telefono 2"),l.qZA(),l._UZ(19,"input",8),l.qZA(),l.TgZ(20,"button",9),l.NdJ("click",function(){return i.GuardarPerfil()}),l._uU(21,"Actualizar perfil"),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Q6J("formGroup",i.datosContactoForm))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.wV],styles:[""]}),e})();var f=o(5047),g=o(6708),Z=o(4402),v=o(5257),b=o(697),A=o(1306),T=o(7825);let _=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-select-sueldo"]],inputs:{formGroup:"formGroup"},decls:5,vars:1,consts:[[1,"input-group","mb-3",3,"formGroup"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","formControlName","sueldo",1,"form-control"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"span",2),l._uU(3,"$"),l.qZA(),l.qZA(),l._UZ(4,"input",3),l.qZA()),2&e&&l.Q6J("formGroup",i.formGroup)},directives:[a.JL,a.sg,a.wV,a.Fj,a.JJ,a.u],styles:[""]}),e})();var q=o(576),x=o(8852);function U(e,i){1&e&&(l.TgZ(0,"small",35),l._uU(1," Rellene este campo "),l.qZA())}function I(e,i){if(1&e&&(l.TgZ(0,"span"),l._UZ(1,"app-select-pais-provincia-ciudad",36),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("formGroup",e.datosPersonales)("user",e.lugar)}}function N(e,i){1&e&&(l.TgZ(0,"small",37),l._uU(1," El formato debe ser .jpg .jpeg .png "),l.qZA())}function w(e,i){1&e&&(l.TgZ(0,"small",37),l._uU(1," El video debe pesar 5 megas o menos "),l.qZA())}const k=function(){return{month:1,year:2e3}};let F=(()=>{class e extends f.NG{constructor(){super(...arguments),this.DELIMITER="/"}parse(e){if(e){const i=e.split(this.DELIMITER);return{day:parseInt(i[0],10),month:parseInt(i[1],10),year:parseInt(i[2],10)}}return null}format(e){return e?e.day+this.DELIMITER+e.month+this.DELIMITER+e.year:""}}return e.\u0275fac=function(){let i;return function(o){return(i||(i=l.n5z(e)))(o||e)}}(),e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e{constructor(e,i,o,t,r,n){this.UbicacionesService=e,this.AuthService=i,this.toastr=o,this.spinner=t,this.titleService=r,this.MiPerfilService=n,this.errorFormato=!1,this.ErrorSize=!1,this.provincias=[],this.ciudades=[],this.email="",this.idDatosContacto="",this.datosContacto=new a.cw({nombre:new a.NI("",a.kI.required)}),this.datosPersonales=new a.cw({puesto:new a.NI(""),rubro:new a.NI(""),sueldo:new a.NI,genero:new a.NI,fecha_nacimiento:new a.NI,pais:new a.NI(""),provincia:new a.NI(""),ciudad:new a.NI(""),licencia:new a.NI(!1),movilidad:new a.NI(!1),discapacidad:new a.NI(!1),foto_perfil:new a.NI("")})}ngOnInit(){this.titleService.setTitle("Datos Personales | ACTION HUMAN CAPITAL CONSULTING"),this.AuthService.getUserAfsSinId().subscribe(e=>{this.user=e,this.MiPerfilService.leerDatosContacto(e.id).subscribe(e=>{e[0].nombre&&this.datosContacto.controls.nombre.setValue(e[0].nombre),this.idDatosContacto=e[0].id,this.email=e[0].email}),this.datosPersonales.controls.puesto.setValue(e.puesto),this.datosPersonales.controls.rubro.setValue(e.rubro),this.fecha_nacimiento=e.fecha_nacimiento,this.datosPersonales.controls.fecha_nacimiento.setValue(Object.assign({},e.fecha_nacimiento)),this.datosPersonales.controls.sueldo.setValue(e.sueldo),this.datosPersonales.controls.foto_perfil.setValue(e.foto),this.datosPersonales.controls.genero.setValue(e.genero),this.datosPersonales.controls.pais.setValue(e.pais),this.lugar={pais:e.pais,provincia:e.provincia,ciudad:e.ciudad},this.datosPersonales.controls.licencia.setValue(e.licencia),this.datosPersonales.controls.movilidad.setValue(e.movilidad),this.datosPersonales.controls.discapacidad.setValue(e.discapacidad)}),this.datosPersonales.addControl("fecha_nacimiento",new a.NI(""))}GuardarPerfil(){(0,g._)(this.datosPersonales),this.datosPersonales.valid&&this.datosContacto.valid&&(this.spinner.show(),this.datosPersonales.controls.fecha_nacimiento.setValue(Object.assign({},this.fecha_nacimiento)),Object.keys(this.datosPersonales.value).forEach(e=>{void 0===this.datosPersonales.value[e]&&delete this.datosPersonales.value[e]}),this.MiPerfilService.updateDatosContacto(this.user.id||"",this.idDatosContacto,this.datosContacto.value),console.log(this.datosPersonales.value),this.AuthService.updateUser(this.user.id||"",this.datosPersonales.value).then(e=>{this.toastr.success("Perfil actualizado con exito!"),this.spinner.hide()},e=>{this.toastr.error("No se pudo actualizar el perfil, intente mas tarde."),this.spinner.hide()}))}subirFotoPerfil(e){if(this.errorFormato=!1,this.ErrorSize=!1,console.log(e.files.item(0)),e.files.item(0)){if("image/jpeg"==e.files.item(0).type||"image/png"==e.files.item(0).type){this.spinner.show();var i="";switch(e.files.item(0).type){case"image/jpeg":i=".jpg";break;case"image/png":i=".png"}var o=e.files.item(0).name.split(i)[0].replaceAll(" ","_");this.MiPerfilService.deleteAllFolder(this.email).pipe((0,v.q)(1)).subscribe(t=>{const r=t.items.map(e=>e.delete());Promise.all(r),(0,Z.D)(this.MiPerfilService.subirFoto(this.email,o,e.files.item(0),i)).pipe((0,v.q)(1)).subscribe(e=>{e.ref.getDownloadURL().then(e=>{console.log(e),this.AuthService.updateUser(this.user.id||"",{foto:e}).then(()=>{this.datosPersonales.controls.foto_perfil.setValue(e),this.toastr.success("Se subio la imagen con exito!"),this.spinner.hide()})})})})}else this.errorFormato=!0;e.files.item(0).size>5e6&&(this.ErrorSize=!0)}}eliminarFoto(){this.spinner.show(),this.MiPerfilService.deleteAllFolder(this.email).pipe((0,v.q)(1)).subscribe(e=>{const i=e.items.map(e=>e.delete());Promise.all(i),this.spinner.hide(),this.toastr.success("se elimino la foto con exito"),this.datosPersonales.controls.foto_perfil.setValue("")}),this.AuthService.updateUser(this.user.id||"",{foto:""})}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(b.k),l.Y36(c.e),l.Y36(d._W),l.Y36(u.t2),l.Y36(p.Dx),l.Y36(m.P))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-datos-personales"]],features:[l._Bn([{provide:f.NG,useClass:F}])],decls:61,vars:14,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"row","my-3"],[1,"col"],[1,"form-group",3,"formGroup"],["for","Puesto"],["type","text","formControlName","nombre",1,"form-control"],["id","passwordHelp","class","text-danger",4,"ngIf"],[3,"formGroup"],[1,"form-group"],[1,"form-inline"],[1,"input-group"],["placeholder","dd/mm/yyyy","name","d2","ngbDatepicker","",1,"form-control",3,"startDate","ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],["aria-hidden","true",1,"fa","fa-calendar"],[4,"ngIf"],[1,"dropdown-divider"],[1,"form-check","mt-4"],["type","checkbox","formControlName","licencia","id","licencia",1,"form-check-input"],["for","licencia",1,"form-check-label"],["type","checkbox","formControlName","movilidad","id","movilidad",1,"form-check-input"],["for","movilidad",1,"form-check-label"],["type","checkbox","formControlName","discapacidad","id","discapacidad",1,"form-check-input"],["for","discapacidad",1,"form-check-label"],[1,"btn","btn-success","rounded-pill","mt-4",3,"click"],["width","200","height","200",1,"rounded-circle","mr-3","img-center",3,"src"],[1,"btn-group"],["type","button","data-toggle","dropdown","data-display","static","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle","btn-perfil"],[1,"dropdown-menu","dropdown-menu-right","dropdown-menu-lg-left"],[1,"dropdown-item"],["type","file","hidden","",3,"change"],["type","button",1,"dropdown-item",3,"click"],["class","text-danger",4,"ngIf"],["id","passwordHelp",1,"text-danger"],[3,"formGroup","user"],[1,"text-danger"]],template:function(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2," Datos Personales "),l.qZA(),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"label",5),l._uU(7,"Nombre *"),l.qZA(),l._UZ(8,"input",6),l.YNc(9,U,2,0,"small",7),l.qZA(),l.TgZ(10,"span",8),l._UZ(11,"app-select-puesto",8),l._UZ(12,"app-select-rubro",8),l.TgZ(13,"label"),l._uU(14,"Salario en mano pretendido"),l.qZA(),l._UZ(15,"app-select-sueldo",8),l._UZ(16,"app-radio-genero",8),l.TgZ(17,"div",9),l.TgZ(18,"label",5),l._uU(19,"Fecha de Nacimiento"),l.qZA(),l.TgZ(20,"form",10),l.TgZ(21,"div",9),l.TgZ(22,"div",11),l.TgZ(23,"input",12,13),l.NdJ("ngModelChange",function(e){return i.fecha_nacimiento=e}),l.qZA(),l.TgZ(25,"div",14),l.TgZ(26,"button",15),l.NdJ("click",function(){return l.CHM(e),l.MAs(24).toggle()}),l._UZ(27,"i",16),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(28,I,2,2,"span",17),l._UZ(29,"div",18),l.TgZ(30,"div",19),l._UZ(31,"input",20),l.TgZ(32,"label",21),l._uU(33," Poseo licencia de conducir "),l.qZA(),l.qZA(),l.TgZ(34,"div",19),l._UZ(35,"input",22),l.TgZ(36,"label",23),l._uU(37," Poseo movilidad propia "),l.qZA(),l.qZA(),l.TgZ(38,"div",19),l._UZ(39,"input",24),l.TgZ(40,"label",25),l._uU(41," Poseo alg\xfan tipo de discapacidad "),l.qZA(),l.qZA(),l.TgZ(42,"button",26),l.NdJ("click",function(){return i.GuardarPerfil()}),l._uU(43," Actualizar perfil "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(44,"div",3),l.TgZ(45,"p"),l._uU(46,"Foto de perfil"),l.qZA(),l.TgZ(47,"div"),l._UZ(48,"img",27),l.TgZ(49,"div",28),l.TgZ(50,"button",29),l._uU(51," Editar "),l.qZA(),l.TgZ(52,"div",30),l.TgZ(53,"button",31),l.TgZ(54,"label"),l._uU(55," Subir nueva foto "),l.TgZ(56,"input",32),l.NdJ("change",function(e){return i.subirFotoPerfil(e.target)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(57,"button",33),l.NdJ("click",function(){return i.eliminarFoto()}),l._uU(58,"Eliminar Foto"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(59,N,2,0,"small",34),l.YNc(60,w,2,0,"small",34),l.qZA(),l.qZA()}if(2&e){let e;l.xp6(5),l.Q6J("formGroup",i.datosContacto),l.xp6(4),l.Q6J("ngIf",null==(e=i.datosContacto.get("nombre"))?null:e.invalid),l.xp6(1),l.Q6J("formGroup",i.datosPersonales),l.xp6(1),l.Q6J("formGroup",i.datosPersonales),l.xp6(1),l.Q6J("formGroup",i.datosPersonales),l.xp6(3),l.Q6J("formGroup",i.datosPersonales),l.xp6(1),l.Q6J("formGroup",i.datosPersonales),l.xp6(7),l.Q6J("startDate",l.DdM(13,k))("ngModel",i.fecha_nacimiento),l.xp6(5),l.Q6J("ngIf",i.datosPersonales.value),l.xp6(20),l.Q6J("src",i.datosPersonales.value.foto_perfil?i.datosPersonales.value.foto_perfil:"https://via.placeholder.com/100",l.LSH),l.xp6(11),l.Q6J("ngIf",i.errorFormato),l.xp6(1),l.Q6J("ngIf",i.ErrorSize)}},directives:[a.JL,a.sg,a.Fj,a.JJ,a.u,t.O5,A.F,T.e,_,q.B,a._Y,a.F,f.J4,a.On,a.Wl,x.g],styles:["@media (min-width:993px){.btn-perfil[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width:993px){.btn-perfil[_ngcontent-%COMP%]{margin-top:-60px;height:35px}}"]}),e})();const J=JSON.parse('[{"nombre":"Enero"},{"nombre":"Febrero"},{"nombre":"Marzo"},{"nombre":"Abril"},{"nombre":"Mayo"},{"nombre":"Junio"},{"nombre":"Julio"},{"nombre":"Agosto"},{"nombre":"Septiembre"},{"nombre":"Octubre"},{"nombre":"Noviembre"},{"nombre":"Diciembre"}]');var y=o(3104);function P(e,i){if(1&e&&(l.TgZ(0,"ng-option",16),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.Q6J("value",e.nombre),l.xp6(1),l.hij(" ",e.nombre," ")}}function M(e,i){1&e&&(l.TgZ(0,"small",17),l._uU(1," Rellene este campo "),l.qZA())}function S(e,i){if(1&e&&(l.TgZ(0,"ng-option",16),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.Q6J("value",e),l.xp6(1),l.hij(" ",e," ")}}function L(e,i){1&e&&(l.TgZ(0,"small",17),l._uU(1," Rellene este campo "),l.qZA())}function G(e,i){if(1&e&&(l.TgZ(0,"ng-option",16),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.Q6J("value",e.nombre),l.xp6(1),l.hij(" ",e.nombre," ")}}function E(e,i){1&e&&(l.TgZ(0,"small",17),l._uU(1," Rellene este campo "),l.qZA())}function O(e,i){if(1&e&&(l.TgZ(0,"ng-option",16),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.Q6J("value",e),l.xp6(1),l.hij(" ",e," ")}}function Y(e,i){1&e&&(l.TgZ(0,"small",17),l._uU(1," Rellene este campo "),l.qZA())}const Q=function(){return{"is-invalid":!1}},D=function(){return{standalone:!0}};let V=(()=>{class e{constructor(){this.meses=J,this.meses_inicio=J,this.meses_fin=J,this.anios=[]}ngOnInit(){this.hoy=new Date;var e=(new Date).getFullYear()+1;for(let i=1980;i<e;i++)this.anios.unshift(i);this.anio_actual("inicio"),this.anio_actual("fin"),console.log(this.actualidad),this.trabajoActualmente({target:{checked:this.actualidad}})}trabajoActualmente(e){e.target.checked?(this.formGroup.controls.fecha_fin.setValue({mes:"",year:""}),this.formGroup.controls.fecha_fin.disable()):this.formGroup.controls.fecha_fin.enable()}anio_actual(e){if("inicio"==e)if(this.formGroup.controls.fecha_inicio.value.year==this.hoy.getFullYear().toString()){for(let i=0;i<this.meses_inicio.length;i++)if(this.meses_inicio[i].nombre.toLowerCase()==this.hoy.toLocaleString("default",{month:"long"}).toLowerCase()){const e=this.meses_inicio.indexOf(this.meses_inicio[i]),o=e<0?[]:this.meses_inicio.slice(0,e+1);this.meses_inicio=o;break}const e=this.meses_fin.find(e=>e.nombre==this.formGroup.controls.fecha_inicio.value.mes);this.formGroup.controls.fecha_inicio.setValue({mes:e?e.nombre:"",year:2022})}else this.meses_inicio=J;if("fin"==e)if(this.formGroup.controls.fecha_fin.value.year==this.hoy.getFullYear().toString()){for(let i=0;i<this.meses_fin.length;i++)if(this.meses_fin[i].nombre.toLowerCase()==this.hoy.toLocaleString("default",{month:"long"}).toLowerCase()){const e=this.meses_fin.indexOf(this.meses_fin[i]),o=e<0?[]:this.meses_fin.slice(0,e+1);this.meses_fin=o;break}const e=this.meses_fin.find(e=>e.nombre==this.formGroup.controls.fecha_fin.value.mes);this.formGroup.controls.fecha_fin.setValue({mes:e?e.nombre:"",year:2022})}else this.meses_fin=J}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-periodo-laboral-formacion"]],inputs:{formGroup:"formGroup",actualidad:"actualidad"},decls:41,vars:24,consts:[[1,"row",3,"formGroup"],["formGroupName","fecha_inicio",1,"col"],[1,"row"],[1,"col"],[1,"form-group"],["for","mes"],["appearance","outline","formControlName","mes",3,"ngClass","searchable","clearable"],[3,"value",4,"ngFor","ngForOf"],["id","passwordHelp","class","text-danger",4,"ngIf"],["appearance","outline","formControlName","year",3,"ngClass","searchable","clearable","change"],["formGroupName","fecha_fin",1,"col"],["appearance","outline","formControlName","mes",3,"searchable","clearable"],["appearance","outline","formControlName","year",3,"searchable","clearable","change"],[1,"form-group","form-check"],["type","checkbox","id","Check1",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange","change"],["for","Check1",1,"form-check-label"],[3,"value"],["id","passwordHelp",1,"text-danger"]],template:function(e,i){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"label"),l._uU(3,"Fecha de Inicio"),l.qZA(),l.TgZ(4,"div",2),l.TgZ(5,"div",3),l.TgZ(6,"div",4),l.TgZ(7,"label",5),l._uU(8,"Mes "),l.qZA(),l.TgZ(9,"ng-select",6),l.YNc(10,P,2,2,"ng-option",7),l.qZA(),l.YNc(11,M,2,0,"small",8),l.qZA(),l.qZA(),l.TgZ(12,"div",3),l.TgZ(13,"div",4),l.TgZ(14,"label"),l._uU(15,"A\xf1o "),l.qZA(),l.TgZ(16,"ng-select",9),l.NdJ("change",function(){return i.anio_actual("inicio")}),l.YNc(17,S,2,2,"ng-option",7),l.qZA(),l.YNc(18,L,2,0,"small",8),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div",10),l.TgZ(20,"label"),l._uU(21,"Fecha de Finalizaci\xf3n"),l.qZA(),l.TgZ(22,"div",2),l.TgZ(23,"div",3),l.TgZ(24,"div",4),l.TgZ(25,"label",5),l._uU(26,"Mes "),l.qZA(),l.TgZ(27,"ng-select",11),l.YNc(28,G,2,2,"ng-option",7),l.qZA(),l.YNc(29,E,2,0,"small",8),l.qZA(),l.qZA(),l.TgZ(30,"div",3),l.TgZ(31,"div",4),l.TgZ(32,"label"),l._uU(33,"A\xf1o "),l.qZA(),l.TgZ(34,"ng-select",12),l.NdJ("change",function(){return i.anio_actual("fin")}),l.YNc(35,O,2,2,"ng-option",7),l.qZA(),l.YNc(36,Y,2,0,"small",8),l.qZA(),l.qZA(),l.qZA(),l.TgZ(37,"div",13),l.TgZ(38,"input",14),l.NdJ("ngModelChange",function(e){return i.actualidad=e})("change",function(e){return i.trabajoActualmente(e)}),l.qZA(),l.TgZ(39,"label",15),l._uU(40,"Trabajo Actualmente"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){let e,o,t,r;l.Q6J("formGroup",i.formGroup),l.xp6(9),l.Q6J("ngClass",l.DdM(21,Q))("searchable",!1)("clearable",!1),l.xp6(1),l.Q6J("ngForOf",i.meses_inicio),l.xp6(1),l.Q6J("ngIf",(null==(e=i.formGroup.get("fecha_inicio.mes"))?null:e.invalid)&&(null==(e=i.formGroup.get("fecha_inicio.mes"))?null:e.touched)),l.xp6(5),l.Q6J("ngClass",l.DdM(22,Q))("searchable",!1)("clearable",!1),l.xp6(1),l.Q6J("ngForOf",i.anios),l.xp6(1),l.Q6J("ngIf",(null==(o=i.formGroup.get("fecha_inicio.year"))?null:o.invalid)&&(null==(o=i.formGroup.get("fecha_inicio.year"))?null:o.touched)),l.xp6(9),l.Q6J("searchable",!1)("clearable",!1),l.xp6(1),l.Q6J("ngForOf",i.meses_fin),l.xp6(1),l.Q6J("ngIf",(null==(t=i.formGroup.get("fecha_fin.mes"))?null:t.invalid)&&(null==(t=i.formGroup.get("fecha_fin.mes"))?null:t.touched)),l.xp6(5),l.Q6J("searchable",!1)("clearable",!1),l.xp6(1),l.Q6J("ngForOf",i.anios),l.xp6(1),l.Q6J("ngIf",(null==(r=i.formGroup.get("fecha_fin.year"))?null:r.invalid)&&(null==(r=i.formGroup.get("fecha_fin.year"))?null:r.touched)),l.xp6(2),l.Q6J("ngModel",i.actualidad)("ngModelOptions",l.DdM(23,D))}},directives:[a.JL,a.sg,a.x0,y.w9,a.JJ,a.u,t.mk,t.sg,t.O5,a.Wl,a.On,y.jq],styles:[""]}),e})();function z(e,i){1&e&&(l.TgZ(0,"small",21),l._uU(1," Rellene este campo "),l.qZA())}function H(e,i){1&e&&(l.TgZ(0,"small",21),l._uU(1," Rellene este campo "),l.qZA())}let j=(()=>{class e{constructor(e,i,o){this.UbicacionesService=e,this.activeModal=i,this.toastr=o,this.meses=J,this.actualidad=!1,this.metodo="",this.experienciaLaboralForm=new a.cw({puesto:new a.NI("",a.kI.required),rubro:new a.NI("",a.kI.required),empresa:new a.NI("",a.kI.required),pais:new a.NI("",a.kI.required),provincia:new a.NI("",a.kI.required),ciudad:new a.NI("",a.kI.required),fecha_inicio:new a.cw({mes:new a.NI("",a.kI.required),year:new a.NI("",a.kI.required)}),fecha_fin:new a.cw({mes:new a.NI("",a.kI.required),year:new a.NI("",a.kI.required)}),principales_responsabilidades:new a.NI("",a.kI.required)})}ngOnInit(){this.metodo=this.experiencia?"Editar":"Agregar",console.log(this.experiencia),this.experiencia&&(this.experienciaLaboralForm.patchValue(this.experiencia),this.experienciaLaboralForm.controls.puesto.setValue(this.experiencia.puesto),this.lugar={pais:this.experiencia.pais,provincia:this.experiencia.provincia,ciudad:this.experiencia.ciudad},this.experiencia.fecha_fin||(console.log("fecha fin"),this.actualidad=!0))}enviarForm(){if((0,g._)(this.experienciaLaboralForm),this.experienciaLaboralForm.valid){if(!(0,g.c)(this.experienciaLaboralForm.value.fecha_fin,this.experienciaLaboralForm.value.fecha_inicio,this.meses))return void this.toastr.error("La fecha de finalizaci\xf3n no puede ser igual o menor que la de inicio.");this.activeModal.close(this.experienciaLaboralForm.value)}}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(b.k),l.Y36(f.Kz),l.Y36(d._W))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modal-experiencia-laboral"]],inputs:{experiencia:"experiencia"},decls:31,vars:12,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"formGroup"],[1,"row"],[1,"col"],[3,"formGroup","obligatorio"],[3,"formGroup"],[1,"form-group"],["for","Puesto"],["type","text","placeholder","Empresa","formControlName","empresa",1,"form-control"],["id","passwordHelp","class","text-danger",4,"ngIf"],[3,"formGroup","user","obligatorio"],[1,"dropdown-divider"],[3,"formGroup","actualidad"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","6","formControlName","principales_responsabilidades",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["id","passwordHelp",1,"text-danger"]],template:function(e,i){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h5",1),l._uU(2,"Agregar Experiencia"),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),l.TgZ(4,"span",3),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",4),l.TgZ(7,"div",5),l.TgZ(8,"div",6),l._UZ(9,"app-select-puesto",7),l._UZ(10,"app-select-rubro",8),l.TgZ(11,"div",9),l.TgZ(12,"label",10),l._uU(13,"Empresa * "),l.qZA(),l._UZ(14,"input",11),l.YNc(15,z,2,0,"small",12),l.qZA(),l.qZA(),l.TgZ(16,"div",6),l._UZ(17,"app-select-pais-provincia-ciudad",13),l.qZA(),l.qZA(),l._UZ(18,"div",14),l._UZ(19,"app-periodo-laboral-formacion",15),l._UZ(20,"div",14),l.TgZ(21,"div",9),l.TgZ(22,"label",16),l._uU(23,"Principales Responsabilidades"),l.qZA(),l._UZ(24,"textarea",17),l.YNc(25,H,2,0,"small",12),l.qZA(),l.qZA(),l.TgZ(26,"div",18),l.TgZ(27,"button",19),l.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),l._uU(28," Cerrar "),l.qZA(),l.TgZ(29,"button",20),l.NdJ("click",function(){return i.enviarForm()}),l._uU(30),l.qZA(),l.qZA()),2&e){let e,o;l.xp6(6),l.Q6J("formGroup",i.experienciaLaboralForm),l.xp6(3),l.Q6J("formGroup",i.experienciaLaboralForm)("obligatorio",!0),l.xp6(1),l.Q6J("formGroup",i.experienciaLaboralForm),l.xp6(5),l.Q6J("ngIf",(null==(e=i.experienciaLaboralForm.get("empresa"))?null:e.invalid)&&(null==(e=i.experienciaLaboralForm.get("empresa"))?null:e.touched)),l.xp6(2),l.Q6J("formGroup",i.experienciaLaboralForm)("user",i.lugar)("obligatorio",!0),l.xp6(2),l.Q6J("formGroup",i.experienciaLaboralForm)("actualidad",i.actualidad),l.xp6(6),l.Q6J("ngIf",(null==(o=i.experienciaLaboralForm.get("principales_responsabilidades"))?null:o.invalid)&&(null==(o=i.experienciaLaboralForm.get("principales_responsabilidades"))?null:o.touched)),l.xp6(5),l.hij(" ",i.metodo," ")}},directives:[a.JL,a.sg,A.F,T.e,a.Fj,a.JJ,a.u,t.O5,x.g,V],styles:[""]}),e})(),R=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){console.log(this.experiencia)}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(f.Kz))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modal-eliminar-experiencia"]],inputs:{experiencia:"experiencia"},decls:16,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h4",1),l._uU(2,"Eliminar Experiencia Laboral"),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),l.TgZ(4,"span",3),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",4),l.TgZ(7,"p"),l._uU(8,"\xbfEst\xe1s seguro que deseas eliminar esta Experiencia Laboral?"),l.qZA(),l.TgZ(9,"h5"),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"div",5),l.TgZ(12,"button",6),l.NdJ("click",function(){return i.activeModal.close(!1)}),l._uU(13,"Cerrar"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return i.activeModal.close(!0)}),l._uU(15,"Eliminar"),l.qZA(),l.qZA()),2&e&&(l.xp6(10),l.AsE("",null==i.experiencia?null:i.experiencia.puesto," - ",null==i.experiencia?null:i.experiencia.empresa,""))},styles:[""]}),e})();var X=o(6996);function $(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",6),l._UZ(2,"app-experiencias-laborales",7),l.TgZ(3,"div",8),l.TgZ(4,"button",9),l._UZ(5,"i",10),l.qZA(),l.TgZ(6,"div",11),l.TgZ(7,"button",12),l.NdJ("click",function(){const i=l.CHM(e).$implicit;return l.oxw().editarExperiencia(i.id)}),l._uU(8," Editar "),l.qZA(),l.TgZ(9,"button",12),l.NdJ("click",function(){const i=l.CHM(e).$implicit;return l.oxw().eliminarExperiencia(i.id)}),l._uU(10," Eliminar "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"p"),l._uU(12,"Principales Responsabilidades"),l.qZA(),l.TgZ(13,"p"),l._uU(14),l.qZA(),l._UZ(15,"div",13),l.qZA()}if(2&e){const e=i.$implicit;l.xp6(2),l.Q6J("Experiencia",e),l.xp6(12),l.Oqu(e.principales_responsabilidades)}}let W=(()=>{class e{constructor(e,i,o,t,r,a,n){this.AuthService=e,this.MiPerfilService=i,this.modalService=o,this.spinner=t,this.toastr=r,this.titleService=n,this.experiencias_laborales=[],a.backdrop="static",a.keyboard=!1}ngOnInit(){this.titleService.setTitle("Experiencia Laboral | ACTION HUMAN CAPITAL CONSULTING"),this.AuthService.getUserAfsSinId().subscribe(e=>{this.user=e,this.MiPerfilService.leerExperienciasLaborales(e.id).subscribe(e=>this.experiencias_laborales=e)})}openModalExperiencia(){this.modalService.open(j,{size:"lg"}).result.then(e=>{this.AgregarExperiencia(e),console.log(e)},()=>console.log("cerrado"))}AgregarExperiencia(e){this.spinner.show(),this.MiPerfilService.agregarExperienciaLaboral(this.user.id,e).then(e=>{this.spinner.hide(),this.toastr.success("Experiencia Laboral agregada con exito")},e=>{this.spinner.hide(),this.toastr.success("Hubo un error al agregar la experiencia, intenta mas tarde.")})}editarExperiencia(e){console.log(e);const i=this.modalService.open(j,{size:"lg"});i.componentInstance.experiencia=this.experiencias_laborales.find(i=>i.id==e),i.result.then(i=>{this.spinner.show(),this.MiPerfilService.updateExperiencia(this.user.id,e,i).then(e=>{this.spinner.hide(),this.toastr.success("Experiencia Laboral editada con exito")},e=>{this.spinner.hide(),this.toastr.success("Hubo un error al editar la experiencia, intenta mas tarde.")})},()=>console.log("cerrado"))}eliminarExperiencia(e){const i=this.modalService.open(R);i.componentInstance.experiencia=this.experiencias_laborales.find(i=>i.id==e),i.result.then(i=>{console.log(i),i&&(this.spinner.show(),this.MiPerfilService.eliminarExperiencia(this.user.id,e).then(e=>{this.spinner.hide(),this.toastr.success("Experiencia Laboral eliminada con exito")},e=>{this.spinner.hide(),this.toastr.success("Hubo un error al eliminar la experiencia, intenta mas tarde.")}))})}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(c.e),l.Y36(m.P),l.Y36(f.FF),l.Y36(u.t2),l.Y36(d._W),l.Y36(f.NM),l.Y36(p.Dx))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-experiencia-laboral"]],decls:8,vars:1,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"card"],[1,"card-body"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",2,"display","block",3,"click"],[1,"row"],[3,"Experiencia"],[2,"float","right"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle-split"],["aria-hidden","true",1,"fa","fa-ellipsis-h"],[1,"dropdown-menu","dropdown-menu-right"],["type","button",1,"dropdown-item",3,"click"],[1,"dropdown-divider"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2," Experiencia Laboral "),l.qZA(),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.YNc(5,$,16,2,"div",4),l.TgZ(6,"button",5),l.NdJ("click",function(){return i.openModalExperiencia()}),l._uU(7," Agregar Experiencia "),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(5),l.Q6J("ngForOf",i.experiencias_laborales))},directives:[t.sg,X.p],styles:[""]}),e})(),B=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(f.Kz))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modal-eliminar-formacion"]],inputs:{formacion:"formacion"},decls:16,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h4",1),l._uU(2,"Eliminar Experiencia Laboral"),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),l.TgZ(4,"span",3),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",4),l.TgZ(7,"p"),l._uU(8,"\xbfEst\xe1s seguro que deseas eliminar esta Experiencia Laboral?"),l.qZA(),l.TgZ(9,"h5"),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"div",5),l.TgZ(12,"button",6),l.NdJ("click",function(){return i.activeModal.close(!1)}),l._uU(13,"Cerrar"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return i.activeModal.close(!0)}),l._uU(15,"Eliminar"),l.qZA(),l.qZA()),2&e&&(l.xp6(10),l.AsE("",i.formacion.titulo," - ",i.formacion.area_estudio,""))},styles:[""]}),e})();function K(e,i){1&e&&(l.TgZ(0,"small",21),l._uU(1," Rellene este campo "),l.qZA())}function ee(e,i){1&e&&(l.TgZ(0,"small",21),l._uU(1," Rellene este campo "),l.qZA())}function ie(e,i){1&e&&(l.TgZ(0,"small",21),l._uU(1," Rellene este campo "),l.qZA())}let oe=(()=>{class e{constructor(e,i,o){this.UbicacionesService=e,this.activeModal=i,this.toastr=o,this.actualidad=!1,this.metodo="",this.meses=J,this.formacionForm=new a.cw({titulo:new a.NI("",a.kI.required),tipo_estudio:new a.NI("",a.kI.required),area_estudio:new a.NI("",a.kI.required),pais:new a.NI("",a.kI.required),provincia:new a.NI("",a.kI.required),ciudad:new a.NI("",a.kI.required),fecha_inicio:new a.cw({mes:new a.NI("",a.kI.required),year:new a.NI("",a.kI.required)}),fecha_fin:new a.cw({mes:new a.NI("",a.kI.required),year:new a.NI("",a.kI.required)}),otros_conocimientos:new a.NI("")})}ngOnInit(){console.log(this.formacion),this.metodo=this.formacion?"Editar":"Agregar",this.formacion&&(this.formacionForm.patchValue(this.formacion),this.lugar={pais:this.formacion.pais,provincia:this.formacion.provincia,ciudad:this.formacion.ciudad},this.formacion.fecha_fin||(this.actualidad=!0))}enviarForm(){if((0,g._)(this.formacionForm),this.formacionForm.valid){if(!(0,g.c)(this.formacionForm.value.fecha_fin,this.formacionForm.value.fecha_inicio,this.meses))return void this.toastr.error("La fecha de finalizaci\xf3n no puede ser igual o menor que la de inicio.");this.activeModal.close(this.formacionForm.value)}}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(b.k),l.Y36(f.Kz),l.Y36(d._W))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modal-formacion"]],inputs:{formacion:"formacion"},decls:38,vars:10,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group"],["for","Puesto"],["type","text","placeholder","Titulo / Carrera","formControlName","titulo",1,"form-control"],["id","passwordHelp","class","text-danger",4,"ngIf"],["type","text","placeholder","Area de Estudio","formControlName","area_estudio",1,"form-control"],["type","text","placeholder","Tipo de Estudio","formControlName","tipo_estudio",1,"form-control"],[3,"formGroup","user","obligatorio"],[1,"dropdown-divider"],[3,"formGroup","actualidad"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","6","formControlName","otros_conocimientos",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["id","passwordHelp",1,"text-danger"]],template:function(e,i){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h5",1),l._uU(2,"Agregar Formaci\xf3n"),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),l.TgZ(4,"span",3),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",4),l.TgZ(7,"div",5),l.TgZ(8,"div",6),l.TgZ(9,"div",7),l.TgZ(10,"label",8),l._uU(11,"Titulo / Carrera * "),l.qZA(),l._UZ(12,"input",9),l.YNc(13,K,2,0,"small",10),l.qZA(),l.TgZ(14,"div",7),l.TgZ(15,"label",8),l._uU(16,"Area de Estudio * "),l.qZA(),l._UZ(17,"input",11),l.YNc(18,ee,2,0,"small",10),l.qZA(),l.TgZ(19,"div",7),l.TgZ(20,"label",8),l._uU(21,"Tipo de Estudio * "),l.qZA(),l._UZ(22,"input",12),l.YNc(23,ie,2,0,"small",10),l.qZA(),l.qZA(),l.TgZ(24,"div",6),l._UZ(25,"app-select-pais-provincia-ciudad",13),l.qZA(),l.qZA(),l._UZ(26,"div",14),l._UZ(27,"app-periodo-laboral-formacion",15),l._UZ(28,"div",14),l.TgZ(29,"div",7),l.TgZ(30,"label",16),l._uU(31,"Otros Conocimientos"),l.qZA(),l._UZ(32,"textarea",17),l.qZA(),l.qZA(),l.TgZ(33,"div",18),l.TgZ(34,"button",19),l.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),l._uU(35," Cerrar "),l.qZA(),l.TgZ(36,"button",20),l.NdJ("click",function(){return i.enviarForm()}),l._uU(37),l.qZA(),l.qZA()),2&e){let e,o,t;l.xp6(6),l.Q6J("formGroup",i.formacionForm),l.xp6(7),l.Q6J("ngIf",(null==(e=i.formacionForm.get("titulo"))?null:e.invalid)&&(null==(e=i.formacionForm.get("titulo"))?null:e.touched)),l.xp6(5),l.Q6J("ngIf",(null==(o=i.formacionForm.get("area_estudio"))?null:o.invalid)&&(null==(o=i.formacionForm.get("area_estudio"))?null:o.touched)),l.xp6(5),l.Q6J("ngIf",(null==(t=i.formacionForm.get("tipo_estudio"))?null:t.invalid)&&(null==(t=i.formacionForm.get("tipo_estudio"))?null:t.touched)),l.xp6(2),l.Q6J("formGroup",i.formacionForm)("user",i.lugar)("obligatorio",!0),l.xp6(2),l.Q6J("formGroup",i.formacionForm)("actualidad",i.actualidad),l.xp6(10),l.Oqu(i.metodo)}},directives:[a.JL,a.sg,a.Fj,a.JJ,a.u,t.O5,x.g,V],styles:[""]}),e})();var te=o(8554);function re(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"div",6),l._UZ(2,"app-formaciones",7),l.TgZ(3,"div",8),l.TgZ(4,"button",9),l._UZ(5,"i",10),l.qZA(),l.TgZ(6,"div",11),l.TgZ(7,"button",12),l.NdJ("click",function(){const i=l.CHM(e).$implicit;return l.oxw().editarFormacion(i.id)}),l._uU(8," Editar "),l.qZA(),l.TgZ(9,"button",12),l.NdJ("click",function(){const i=l.CHM(e).$implicit;return l.oxw().eliminarFormacion(i.id)}),l._uU(10," Eliminar "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"p"),l._uU(12,"Otros Conocimientos"),l.qZA(),l.TgZ(13,"p"),l._uU(14),l.qZA(),l._UZ(15,"div",13),l.qZA()}if(2&e){const e=i.$implicit;l.xp6(2),l.Q6J("formacion",e),l.xp6(12),l.Oqu(e.otros_conocimientos)}}let ae=(()=>{class e{constructor(e,i,o,t,r,a){this.modalService=e,this.MiPerfilService=i,this.AuthService=o,this.spinner=t,this.toastr=r,this.titleService=a,this.formaciones=[]}ngOnInit(){this.titleService.setTitle("Formaci\xf3n | ACTION HUMAN CAPITAL CONSULTING"),this.AuthService.getUserAfsSinId().subscribe(e=>{this.user=e,this.MiPerfilService.leerFormacion(e.id).subscribe(e=>this.formaciones=e)})}openModalFormacion(){this.modalService.open(oe,{size:"lg"}).result.then(e=>{console.log(e),this.MiPerfilService.agregarFormacion(this.user.id,e).then(e=>{this.spinner.hide(),this.toastr.success("Experiencia Laboral eliminada con exito")},e=>{this.spinner.hide(),this.toastr.success("Hubo un error al eliminar la experiencia, intenta mas tarde.")})},()=>console.log("cerrado"))}editarFormacion(e){const i=this.modalService.open(oe,{size:"lg"});i.componentInstance.formacion=this.formaciones.find(i=>i.id==e),i.result.then(i=>{this.spinner.show(),this.MiPerfilService.updateFormacion(this.user.id,e,i).then(e=>{this.spinner.hide(),this.toastr.success("Experiencia Laboral editada con exito")},e=>{this.spinner.hide(),this.toastr.success("Hubo un error al editar la experiencia, intenta mas tarde.")})},()=>console.log("cerrado"))}eliminarFormacion(e){const i=this.modalService.open(B);i.componentInstance.formacion=this.formaciones.find(i=>i.id==e),i.result.then(i=>{console.log(i),i&&(this.spinner.show(),this.MiPerfilService.eliminarFormacion(this.user.id,e).then(e=>{this.spinner.hide(),this.toastr.success("Formaci\xf3n eliminada con exito")},e=>{this.spinner.hide(),this.toastr.success("Hubo un error al eliminar la Formaci\xf3n, intenta mas tarde.")}))})}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(f.FF),l.Y36(m.P),l.Y36(c.e),l.Y36(u.t2),l.Y36(d._W),l.Y36(p.Dx))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-formacion"]],decls:8,vars:1,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"card"],[1,"card-body"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",2,"display","block",3,"click"],[1,"row"],[3,"formacion"],[2,"float","right"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle-split"],["aria-hidden","true",1,"fa","fa-ellipsis-h"],[1,"dropdown-menu","dropdown-menu-right"],["type","button",1,"dropdown-item",3,"click"],[1,"dropdown-divider"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2," Formaci\xf3n "),l.qZA(),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.YNc(5,re,16,2,"div",4),l.TgZ(6,"button",5),l.NdJ("click",function(){return i.openModalFormacion()}),l._uU(7," Agregar Formaci\xf3n "),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(5),l.Q6J("ngForOf",i.formaciones))},directives:[t.sg,te.u],styles:[""]}),e})();const ne=JSON.parse('["Espa\xf1ol","Ingl\xe9s","Portugu\xe9s","Franc\xe9s","Italiano","Alem\xe1n"]');function se(e,i){if(1&e&&(l.TgZ(0,"ng-option",23),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.Q6J("value",e),l.xp6(1),l.hij(" ",e," ")}}function le(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"div",7),l.TgZ(1,"div",8),l.TgZ(2,"div",9),l.TgZ(3,"label",10),l._uU(4,"Idioma"),l.qZA(),l.TgZ(5,"ng-select",11),l.YNc(6,se,2,2,"ng-option",12),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",13),l.TgZ(8,"div",9),l.TgZ(9,"label",14),l._uU(10,"Nivel oral"),l.qZA(),l.TgZ(11,"ng-select",15),l.TgZ(12,"ng-option",16),l._uU(13," Principiante "),l.qZA(),l.TgZ(14,"ng-option",17),l._uU(15," Intermedio "),l.qZA(),l.TgZ(16,"ng-option",18),l._uU(17," Avanzado "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"div",13),l.TgZ(19,"div",9),l.TgZ(20,"label",19),l._uU(21,"Nivel escrito"),l.qZA(),l.TgZ(22,"ng-select",20),l.TgZ(23,"ng-option",16),l._uU(24," Principiante "),l.qZA(),l.TgZ(25,"ng-option",17),l._uU(26," Intermedio "),l.qZA(),l.TgZ(27,"ng-option",18),l._uU(28," Avanzado "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"div",13),l.TgZ(30,"button",21),l.NdJ("click",function(){const i=l.CHM(e).index;return l.oxw().removeOrClearIdioma(i)}),l._UZ(31,"i",22),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=i.index,o=l.oxw();l.Q6J("formGroupName",e),l.xp6(5),l.Q6J("searchable",!1)("clearable",!1),l.xp6(1),l.Q6J("ngForOf",o.idiomas),l.xp6(5),l.Q6J("searchable",!1)("clearable",!1),l.xp6(11),l.Q6J("searchable",!1)("clearable",!1)}}let ce=(()=>{class e{constructor(e,i,o,t,r){this.formBuilder=e,this.AuthService=i,this.toastr=o,this.spinner=t,this.titleService=r,this.idiomas=ne}ngOnInit(){this.titleService.setTitle("Idiomas | ACTION HUMAN CAPITAL CONSULTING"),this.idiomasForm=this.formBuilder.group({idiomas:this.formBuilder.array([this.createIdiomaFormGroup()])}),this.AuthService.getUserAfsSinId().pipe((0,v.q)(1)).subscribe(e=>{this.user=e,this.user&&this.user.idiomas&&this.user.idiomas.forEach((e,i)=>{0!=i&&this.addIdiomaFormGroup(),this.idiomasForm.get("idiomas").controls[i].setValue(e)})})}addIdiomaFormGroup(){this.idiomasForm.get("idiomas").push(this.createIdiomaFormGroup())}removeOrClearIdioma(e){const i=this.idiomasForm.get("idiomas");i.length>1?i.removeAt(e):i.reset()}createIdiomaFormGroup(){return new a.cw({idioma:new a.NI("",a.kI.required),nivel_oral:new a.NI("",a.kI.required),nivel_escrito:new a.NI("",a.kI.required)})}getControls(){return this.idiomasForm.get("idiomas").controls}GuardarPerfil(){console.log(this.idiomasForm.value.idiomas),this.isUnique(this.idiomasForm.value.idiomas)?this.idiomasForm.valid&&(this.spinner.show(),this.AuthService.updateUser(this.user.id,this.idiomasForm.value).then(e=>{this.toastr.success("Perfil actualizado con exito!"),this.spinner.hide()},e=>{this.toastr.error("No se pudo actualizar el perfil, intente mas tarde."),this.spinner.hide()})):this.toastr.error("Los idiomas no pueden repetirse.")}isUnique(e){var i=[];for(var o in e){if(!(i.indexOf(e[o].idioma)<0))return!1;i.push(e[o].idioma)}return!0}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(a.qu),l.Y36(c.e),l.Y36(d._W),l.Y36(u.t2),l.Y36(p.Dx))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-idiomas"]],decls:10,vars:2,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"my-3",3,"formGroup"],["formArrayName","idiomas"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"btn","btn-success",2,"display","block",3,"click"],[1,"btn","btn-success","rounded-pill","mt-4",3,"click"],[1,"row",3,"formGroupName"],[1,"col-6"],[1,"form-group"],["for","Idioma"],["appearance","outline","labelForId","Idioma","formControlName","idioma",3,"searchable","clearable"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["for","nivel_oral"],["appearance","outline","labelForId","nivel_oral","formControlName","nivel_oral",3,"searchable","clearable"],["value","Principiante"],["value","Intermedio"],["value","Avanzado"],["for","nivel_escrito"],["appearance","outline","labelForId","nivel_escrito","formControlName","nivel_escrito",3,"searchable","clearable"],[1,"btn","btn-danger",2,"margin-top","30px",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[3,"value"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2," Idiomas "),l.qZA(),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.YNc(5,le,32,8,"div",4),l.qZA(),l.TgZ(6,"button",5),l.NdJ("click",function(){return i.addIdiomaFormGroup()}),l._uU(7," Agregar idioma "),l.qZA(),l.TgZ(8,"button",6),l.NdJ("click",function(){return i.GuardarPerfil()}),l._uU(9," Guardar Perfil "),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Q6J("formGroup",i.idiomasForm),l.xp6(2),l.Q6J("ngForOf",i.getControls()))},directives:[a.JL,a.sg,a.CE,t.sg,a.x0,y.w9,a.JJ,a.u,y.jq],styles:[""]}),e})();var ue=o(8525);let de=(()=>{class e{constructor(e){this.titleService=e}ngOnInit(){this.titleService.setTitle("Curr\xedculum | ACTION HUMAN CAPITAL CONSULTING")}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(p.Dx))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-mas-datos"]],decls:4,vars:1,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[3,"seleccionarCV"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2," Curr\xedculum "),l.qZA(),l.qZA(),l._UZ(3,"app-cargar-cv",2)),2&e&&(l.xp6(3),l.Q6J("seleccionarCV",!1))},directives:[ue.K],styles:[""]}),e})();var pe=o(3252),me=o(5227);const he=function(){return["active"]};function fe(e,i){1&e&&(l.TgZ(0,"p",9),l._uU(1,"Este email no esta verificado. "),l.qZA())}function ge(e,i){1&e&&(l.TgZ(0,"p",10),l._uU(1,"Email verificado "),l.qZA())}function Ze(e,i){if(1&e){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){return l.CHM(e),l.oxw().enviarVerificacion()}),l._uU(1,"Enviar email para verificar"),l.qZA()}}const ve=[{path:"",component:(()=>{class e{constructor(e){this.AuthService=e}ngOnInit(){this.AuthService.getUserAfsSinId().subscribe(e=>this.user=e)}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(c.e))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-mi-perfil"]],decls:49,vars:15,consts:[["id","main",1,"container"],[1,"row","py-4"],[1,"col"],[1,"row"],["src","assets/img/usuario.png","width","60","height","60",1,"rounded-circle","mr-3"],[1,"text-muted"],["aria-label","breadcrumb"],[1,"breadcrumb",2,"background-color","transparent"],[1,"breadcrumb-item"],["routerLink","/personal"],[1,"breadcrumb-item","text-muted"],[1,"card",2,"width","100%"],[1,"card-body"],[1,"col-3",2,"padding","0px"],[1,"navbar","border-right",2,"padding","0px"],[1,"navbar-nav",2,"width","100%"],[1,"nav-item"],["routerLink","datos-personales",1,"nav-link","ml-3",3,"routerLinkActive"],["routerLink","datos-contacto",1,"nav-link","ml-3",3,"routerLinkActive"],["routerLink","idiomas",1,"nav-link","ml-3",3,"routerLinkActive"],["routerLink","experiencia-laboral",1,"nav-link","ml-3",3,"routerLinkActive"],["routerLink","formacion",1,"nav-link","ml-3",3,"routerLinkActive"],["routerLink","verificar-email",1,"nav-link","ml-3",3,"routerLinkActive"],["routerLink","mas-datos",1,"nav-link","ml-3",3,"routerLinkActive"]],template:function(e,i){1&e&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l._UZ(5,"img",4),l.TgZ(6,"div"),l.TgZ(7,"h5"),l._uU(8),l.qZA(),l.TgZ(9,"p",5),l._uU(10,"Mi informaci\xf3n personal"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",2),l.TgZ(12,"nav",6),l.TgZ(13,"ol",7),l.TgZ(14,"li",8),l.TgZ(15,"a",9),l._uU(16,"Avisos"),l.qZA(),l.qZA(),l.TgZ(17,"li",10),l._uU(18,"Mi perfil"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div",11),l.TgZ(20,"div",12),l.TgZ(21,"div",3),l.TgZ(22,"div",13),l.TgZ(23,"nav",14),l.TgZ(24,"ul",15),l.TgZ(25,"li",16),l.TgZ(26,"a",17),l._uU(27,"Datos Personales"),l.qZA(),l.qZA(),l.TgZ(28,"li",16),l.TgZ(29,"a",18),l._uU(30,"Datos de Contacto"),l.qZA(),l.qZA(),l.TgZ(31,"li",16),l.TgZ(32,"a",19),l._uU(33,"Idiomas"),l.qZA(),l.qZA(),l.TgZ(34,"li",16),l.TgZ(35,"a",20),l._uU(36,"Experiencia laboral"),l.qZA(),l.qZA(),l.TgZ(37,"li",16),l.TgZ(38,"a",21),l._uU(39,"Formaci\xf3n"),l.qZA(),l.qZA(),l.TgZ(40,"li",16),l.TgZ(41,"a",22),l._uU(42,"Verificar Email"),l.qZA(),l.qZA(),l.TgZ(43,"li",16),l.TgZ(44,"a",23),l._uU(45,"Curr\xedculum"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(46,"div",2),l._UZ(47,"router-outlet"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(48,"app-footer")),2&e&&(l.xp6(8),l.Oqu(null==i.user?null:i.user.nombre),l.xp6(18),l.Q6J("routerLinkActive",l.DdM(8,he)),l.xp6(3),l.Q6J("routerLinkActive",l.DdM(9,he)),l.xp6(3),l.Q6J("routerLinkActive",l.DdM(10,he)),l.xp6(3),l.Q6J("routerLinkActive",l.DdM(11,he)),l.xp6(3),l.Q6J("routerLinkActive",l.DdM(12,he)),l.xp6(3),l.Q6J("routerLinkActive",l.DdM(13,he)),l.xp6(3),l.Q6J("routerLinkActive",l.DdM(14,he)))},directives:[pe.S,r.yS,r.Od,r.lC,me.c],styles:[".active[_ngcontent-%COMP%]{color:#a8cf46!important}.nav-item[_ngcontent-%COMP%]:hover{background-color:#f4f6f8}.nav-link[_ngcontent-%COMP%]{color:#000}#main[_ngcontent-%COMP%]{min-height:calc(100% - 96px - 70px)}"]}),e})(),children:[{path:"datos-personales",component:C},{path:"datos-contacto",component:h},{path:"idiomas",component:ce},{path:"experiencia-laboral",component:W},{path:"formacion",component:ae},{path:"verificar-email",component:(()=>{class e{constructor(e,i,o){this.authService=e,this.toastr=i,this.titleService=o,this.form=new a.cw({email:new a.NI("")})}ngOnInit(){this.titleService.setTitle("Verificar Email | ACTION HUMAN CAPITAL CONSULTING"),this.authService.getUserLogged().subscribe(e=>{this.form.controls.email.setValue((null==e?void 0:e.email)||""),this.user=e})}enviarVerificacion(){this.authService.verifyEmail(this.user).then(e=>{this.toastr.success("Se ha enviado el email para verificar. Revisa tu correo.")},e=>{this.toastr.error("Se han enviado muchas peticiones. Intenta mas tarde.")})}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(c.e),l.Y36(d._W),l.Y36(p.Dx))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-verificar-email"]],decls:11,vars:4,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"my-3",3,"formGroup"],[1,"form-group"],["for","Puesto"],["type","email","formControlName","email","readonly","",1,"form-control"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["class","btn btn-success mt-2",3,"click",4,"ngIf"],[1,"text-danger"],[1,"text-success"],[1,"btn","btn-success","mt-2",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2," Verificar Email "),l.qZA(),l.qZA(),l.TgZ(3,"form",2),l.TgZ(4,"div",3),l.TgZ(5,"label",4),l._uU(6,"Email"),l.qZA(),l._UZ(7,"input",5),l.YNc(8,fe,2,0,"p",6),l.YNc(9,ge,2,0,"p",7),l.qZA(),l.YNc(10,Ze,2,0,"button",8),l.qZA()),2&e&&(l.xp6(3),l.Q6J("formGroup",i.form),l.xp6(5),l.Q6J("ngIf",!(null!=i.user&&i.user.emailVerified)),l.xp6(1),l.Q6J("ngIf",null==i.user?null:i.user.emailVerified),l.xp6(1),l.Q6J("ngIf",!(null!=i.user&&i.user.emailVerified)))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,t.O5],styles:[""]}),e})()},{path:"mas-datos",component:de}]}];let be=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.Bz.forChild(ve)],r.Bz]}),e})();var Ae=o(5642),Te=o(4466),_e=o(2995);let qe=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[t.ez,be,Ae.K,f.M,a.UX,Te.m,y.A0,a.u5,_e.V]]}),e})()}}]);