(self.webpackChunkactionhconsulting=self.webpackChunkactionhconsulting||[]).push([[829],{5829:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MiPerfilModule:()=>U});var r=i(8583),n=i(8094),o=i(3679),s=i(6708),a=i(7716),c=i(6334),l=i(9075),u=i(7660),m=i(9699);function d(e,t){1&e&&(a.TgZ(0,"small",10),a._uU(1," Rellene este campo "),a.qZA())}const p=function(){return{standalone:!0}};let f=(()=>{class e{constructor(e,t,i,r){this.AuthService=e,this.titleService=t,this.spinner=i,this.toastr=r,this.categoria="",this.miPerfilForm=new o.cw({nombre:new o.NI("")})}ngOnInit(){this.titleService.setTitle("Datos de Empresa | ACTION HUMAN CAPITAL CONSULTING"),this.AuthService.getUserAfsSinId().subscribe(e=>{this.miPerfilForm.controls.nombre.setValue(e.nombre),this.categoria=e.categoria,this.user=e})}GuardarPerfil(){(0,s._)(this.miPerfilForm),this.miPerfilForm.valid&&(this.spinner.show(),Object.keys(this.miPerfilForm.value).forEach(e=>{void 0===this.miPerfilForm.value[e]&&delete this.miPerfilForm.value[e]}),this.AuthService.updateUser(this.user.id||"",this.miPerfilForm.value).then(e=>{this.toastr.success("Perfil actualizado con exito!"),this.spinner.hide()},e=>{this.toastr.error("No se pudo actualizar el perfil, intente mas tarde."),this.spinner.hide()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.e),a.Y36(l.Dx),a.Y36(u.t2),a.Y36(m._W))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-datos-empresa"]],decls:15,vars:5,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"my-3",3,"formGroup"],[1,"form-group"],["for","Puesto"],["type","text","formControlName","nombre",1,"form-control"],["id","passwordHelp","class","text-danger",4,"ngIf"],["for","categoria"],["id","categoria","type","text","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"btn","btn-success","rounded-pill","mt-4",3,"click"],["id","passwordHelp",1,"text-danger"]],template:function(e,t){if(1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"span",1),a._uU(2," Datos de Empresa "),a.qZA(),a.qZA(),a.TgZ(3,"form",2),a.TgZ(4,"div",3),a.TgZ(5,"label",4),a._uU(6,"Nombre de la empresa * "),a.qZA(),a._UZ(7,"input",5),a.YNc(8,d,2,0,"small",6),a.qZA(),a.TgZ(9,"div",3),a.TgZ(10,"label",7),a._uU(11,"Categor\xeda"),a.qZA(),a.TgZ(12,"input",8),a.NdJ("ngModelChange",function(e){return t.categoria=e}),a.qZA(),a.qZA(),a.TgZ(13,"button",9),a.NdJ("click",function(){return t.GuardarPerfil()}),a._uU(14," Actualizar perfil "),a.qZA(),a.qZA()),2&e){let e;a.xp6(3),a.Q6J("formGroup",t.miPerfilForm),a.xp6(5),a.Q6J("ngIf",(null==(e=t.miPerfilForm.get("nombre"))?null:e.invalid)&&(null==(e=t.miPerfilForm.get("nombre"))?null:e.touched)),a.xp6(4),a.Q6J("ngModel",t.categoria)("ngModelOptions",a.DdM(4,p))}},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,r.O5,o.On],styles:[""]}),e})();const g=function(){return["active"]};function h(e,t){1&e&&(a.TgZ(0,"p",9),a._uU(1,"Este email no esta verificado. "),a.qZA())}function Z(e,t){1&e&&(a.TgZ(0,"p",10),a._uU(1,"Email verificado "),a.qZA())}function v(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){return a.CHM(e),a.oxw().enviarVerificacion()}),a._uU(1,"Enviar email para verificar"),a.qZA()}}const A=[{path:"",component:(()=>{class e{constructor(e){this.AuthService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-mi-perfil"]],decls:25,vars:4,consts:[["id","main",1,"container"],[1,"row","py-4"],[1,"col"],[1,"row"],["src","assets/img/usuario.png","width","60","height","60",1,"rounded-circle","mr-3"],[1,"text-muted"],[1,"card",2,"width","100%"],[1,"card-body"],[1,"col-3",2,"padding","0px"],[1,"navbar","border-right",2,"padding","0px"],[1,"navbar-nav",2,"width","100%"],[1,"nav-item"],["routerLink","datos-empresa",1,"nav-link","ml-3",3,"routerLinkActive"],["routerLink","verificar-email",1,"nav-link","ml-3",3,"routerLinkActive"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a._UZ(4,"img",4),a.TgZ(5,"div"),a.TgZ(6,"h5"),a._uU(7,"nombre"),a.qZA(),a.TgZ(8,"p",5),a._uU(9,"Mi informaci\xf3n personal"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(10,"div",2),a.qZA(),a.TgZ(11,"div",6),a.TgZ(12,"div",7),a.TgZ(13,"div",3),a.TgZ(14,"div",8),a.TgZ(15,"nav",9),a.TgZ(16,"ul",10),a.TgZ(17,"li",11),a.TgZ(18,"a",12),a._uU(19,"Datos de Empresa"),a.qZA(),a.qZA(),a.TgZ(20,"li",11),a.TgZ(21,"a",13),a._uU(22,"Verificar Email"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(23,"div",2),a._UZ(24,"router-outlet"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(18),a.Q6J("routerLinkActive",a.DdM(2,g)),a.xp6(3),a.Q6J("routerLinkActive",a.DdM(3,g)))},directives:[n.yS,n.Od,n.lC],styles:[".active[_ngcontent-%COMP%]{color:#a8cf46!important}.nav-item[_ngcontent-%COMP%]:hover{background-color:#f4f6f8}.nav-link[_ngcontent-%COMP%]{color:#000}#main[_ngcontent-%COMP%]{min-height:calc(100% - 96px - 70px)}"]}),e})(),children:[{path:"datos-empresa",component:f},{path:"verificar-email",component:(()=>{class e{constructor(e,t,i){this.authService=e,this.toastr=t,this.titleService=i,this.form=new o.cw({email:new o.NI("")})}ngOnInit(){this.titleService.setTitle("Verificar Email | ACTION HUMAN CAPITAL CONSULTING"),this.authService.getUserLogged().subscribe(e=>{this.form.controls.email.setValue((null==e?void 0:e.email)||""),this.user=e})}enviarVerificacion(){this.authService.verifyEmail(this.user).then(e=>{this.toastr.success("Se ha enviado el email para verificar. Revisa tu correo.")},e=>{this.toastr.error("Se han enviado muchas peticiones. Intenta mas tarde.")})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.e),a.Y36(m._W),a.Y36(l.Dx))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-verificar-email"]],decls:11,vars:4,consts:[[1,"border-bottom","pb-3"],[1,"h4"],[1,"my-3",3,"formGroup"],[1,"form-group"],["for","Puesto"],["type","email","formControlName","email","readonly","",1,"form-control"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["class","btn btn-success mt-2",3,"click",4,"ngIf"],[1,"text-danger"],[1,"text-success"],[1,"btn","btn-success","mt-2",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"span",1),a._uU(2," Verificar Email "),a.qZA(),a.qZA(),a.TgZ(3,"form",2),a.TgZ(4,"div",3),a.TgZ(5,"label",4),a._uU(6,"Email"),a.qZA(),a._UZ(7,"input",5),a.YNc(8,h,2,0,"p",6),a.YNc(9,Z,2,0,"p",7),a.qZA(),a.YNc(10,v,2,0,"button",8),a.qZA()),2&e&&(a.xp6(3),a.Q6J("formGroup",t.form),a.xp6(5),a.Q6J("ngIf",!(null!=t.user&&t.user.emailVerified)),a.xp6(1),a.Q6J("ngIf",null==t.user?null:t.user.emailVerified),a.xp6(1),a.Q6J("ngIf",!(null!=t.user&&t.user.emailVerified)))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,r.O5],styles:[""]}),e})()}]}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.Bz.forChild(A)],n.Bz]}),e})();var b=i(5642),q=i(5047),_=i(4466);let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.ez,T,b.K,q.M,o.UX,_.m,o.u5]]}),e})()}}]);